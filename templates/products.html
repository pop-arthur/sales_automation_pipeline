<!DOCTYPE html>
<html lang="en">
    <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="..\static\styles\products\products.css">
    <link rel="stylesheet" href="..\static\styles\common\navbar\navbar.css">
    <link rel="stylesheet" href="..\static\styles\common\list_of_items\list_of_items.css">
    <script src="..\static\js\products.js"></script>
    <script src="..\static\js\objects.js"></script>
    <title>Main</title>
</head>

<body>
    <header class="header">
        <h1 class="display-cur-page">PRODUCTS</h1>

        <nav class="navbar">
            <a href="..\cart">Cart</a>
            <a href="#">Upload offer</a>
            <a href="upload">Import</a>
            <a href="logout">Log out</a>
        </nav>
    </header>
    <hr class="divider">

    <main class="main-content">
        <div class="search-bar-container">
            <form action="\search" method="post">
                <input type="text" id="search-bar" name="search" class="search-bar">
            </form>
        
        </div>

                <div class="product-list" id="product-list">
                     {%for value in all_items%}
                    <div class="item" id="item{{ value['id'] }}">

                        <img src="{{ value['images'][0]['url'] }}" class="item-img">

<!--                        <img src="\static\images\item_preview.jpg" class="item" alt="Item Image">-->
                        <div class="search-item-info">
                            <div class="item-name">Name: {{value['name']}}</div>
                            <div class="item-id">ID: {{value['id']}}</div>
                            <div class="item-quantity">Quantity in stock: {{value['quantity_in_stock']}}</div>
                            <div class="item-price">Price: {{value['price']}} RUB</div>
                        </div>
                    </div>
                        <div class="butt">
                            <!-- <input type="number" name="quantity-form" pattern="\d*" id="quantity-form" step="1" min="0" value="0" placeholder="Enter the quantity"> -->
                            <div class="button-wrapper">
                                <button class="add-button" id="add-to-cart-btn{{ value['id'] }}" onclick="addItem( {{ value['id'] }} )">Add to cart</button>
                                <button class="change-qty-btn" id="remove-one{{ value['id'] }}" onclick="Remove({{ value['id'] }})" type="image"><img src="..\static\images\remove-minus.png" style="height: 31px; width: 31px; padding-bottom: 3px;" alt="rem"></button>
                                <input type="number" class = "quantity-form" pattern="\d*" id="quantity-form{{ value['id'] }}" min="1" max-value = "5" value="1" oninput="change( {{ value['id'] }} )"></input>
                                <button class="change-qty-btn" id="add-more{{ value['id'] }}" onclick="addMore( {{ value['id'] }} )"><img src="..\static\images\add.png" style="height: 31px; width: 31px; padding-bottom: 3px;" alt="add"></button>    
                            </div>
                            <div class="item-price-total-wrapper">
                                <h3 class="item-price-total" id="item-price-total{{ value['id'] }}" style="display: none;">.</h3>
                            </div>
     
                        </div>
 


                    <hr class="item-divider">
                     {%endfor%}
                     {%if all_items|length==0%}
                     <div class="unsuccessfull-search">
                         <h3>Ничего не найдено</h3>
                     </div>
                     {%endif%}
                </div>

    </main>
</section>
</body>
</html>